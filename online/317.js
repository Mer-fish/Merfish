"use strict";(self.webpackChunkregistrationform=self.webpackChunkregistrationform||[]).push([[317],{3317:(J,p,r)=>{r.r(p),r.d(p,{LoginModule:()=>x});var m=r(6814),f=r(788),n=r(8124),v=r(2266),h=r(2425),c=r(1005),i=r(285);function _(e,l){1&e&&(n.TgZ(0,"div"),n._uU(1,"Email is required"),n.qZA())}function M(e,l){1&e&&(n.TgZ(0,"div"),n._uU(1,"Email must be a valid email address"),n.qZA())}function C(e,l){if(1&e&&(n.TgZ(0,"div",22),n.YNc(1,_,2,0,"div",20)(2,M,2,0,"div",20),n.qZA()),2&e){n.oxw();const o=n.MAs(17);n.xp6(1),n.Q6J("ngIf",o.errors.required),n.xp6(1),n.Q6J("ngIf",o.errors.email)}}function T(e,l){1&e&&(n.TgZ(0,"div"),n._uU(1,"Password is required"),n.qZA())}function Z(e,l){1&e&&(n.TgZ(0,"div"),n._uU(1,"Password must be at least 2 characters"),n.qZA())}function b(e,l){if(1&e&&(n.TgZ(0,"div",22),n.YNc(1,T,2,0,"div",20)(2,Z,2,0,"div",20),n.qZA()),2&e){n.oxw();const o=n.MAs(25);n.xp6(1),n.Q6J("ngIf",o.errors.required),n.xp6(1),n.Q6J("ngIf",o.errors.minlength)}}function U(e,l){1&e&&(n.TgZ(0,"span"),n._uU(1,"Logging In....."),n.qZA())}function A(e,l){1&e&&(n.TgZ(0,"span"),n._uU(1,"Login"),n.qZA())}const u=e=>({"is-invalid":e}),k=[{path:"",component:(()=>{class e{constructor(o,s,t){this.appService=o,this.toastr=s,this.router=t,this.model={},this.getTokenUrl=`${f.Fy}/token/auth`,this.loadingMask=""}onSubmit(o){this.removeToken();let s={username:this.model.username,password:this.model.password};this.loadingMask="spin",this.appService.post(this.getTokenUrl,s).subscribe(t=>{this.toastr.success("Login Success","Success"),localStorage.setItem("token",t.key),this.loadingMask="",o.resetForm(),this.router.navigate(["/listoflinks"])},t=>{this.removeToken(),this.loadingMask="",this.toastr.error("Login Failed","Error"),console.log("err",t)})}removeToken(){localStorage.token&&(localStorage.removeItem("token"),this.router.navigate(["/login"]))}ngOnInit(){}static#n=this.\u0275fac=function(s){return new(s||e)(n.Y36(v.z),n.Y36(h._W),n.Y36(c.F0))};static#e=this.\u0275cmp=n.Xpm({type:e,selectors:[["app-userlogin"]],decls:32,vars:16,consts:[[1,"centerDiv"],[1,"container"],[1,"row"],[1,"col-md-6","offset-md-3"],[1,"card"],[1,"card-header","text-center"],[1,"card-body"],["name","form",3,"ngSubmit"],["f","ngForm"],[1,"form-group"],["for","email"],[1,"text-danger"],["type","text","name","email","required","","email","",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["email","ngModel"],["class","invalid-feedback",4,"ngIf"],["for","password"],["type","password","name","password","required","","minlength","2",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["password","ngModel"],[1,"form-group","text-center"],[3,"disabled"],[4,"ngIf"],[1,"spinner"],[1,"invalid-feedback"]],template:function(s,t){if(1&s){const d=n.EpF();n.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"h3"),n._uU(7,"ADMIN LOGIN"),n.qZA()(),n.TgZ(8,"div",6)(9,"form",7,8),n.NdJ("ngSubmit",function(){n.CHM(d);const a=n.MAs(10);return n.KtG(a.form.valid&&t.onSubmit(a))}),n.TgZ(11,"div",9)(12,"label",10),n._uU(13,"Email "),n.TgZ(14,"span",11),n._uU(15,"*"),n.qZA()(),n.TgZ(16,"input",12,13),n.NdJ("ngModelChange",function(a){return t.model.username=a}),n.qZA(),n.YNc(18,C,3,2,"div",14),n.qZA(),n.TgZ(19,"div",9)(20,"label",15),n._uU(21,"Password "),n.TgZ(22,"span",11),n._uU(23,"*"),n.qZA()(),n.TgZ(24,"input",16,17),n.NdJ("ngModelChange",function(a){return t.model.password=a}),n.qZA(),n.YNc(26,b,3,2,"div",14),n.qZA(),n.TgZ(27,"div",18)(28,"button",19),n.YNc(29,U,2,0,"span",20)(30,A,2,0,"span",20),n._UZ(31,"span",21),n.qZA()()()()()()()()()}if(2&s){const d=n.MAs(10),g=n.MAs(17),a=n.MAs(25);n.xp6(16),n.Q6J("ngModel",t.model.username)("ngClass",n.VKq(12,u,d.submitted&&g.invalid)),n.xp6(2),n.Q6J("ngIf",d.submitted&&g.invalid),n.xp6(6),n.Q6J("ngModel",t.model.password)("ngClass",n.VKq(14,u,d.submitted&&a.invalid)),n.xp6(2),n.Q6J("ngIf",d.submitted&&a.invalid),n.xp6(2),n.Gre("btn btn-primary ",t.loadingMask,""),n.Q6J("disabled","spin"==t.loadingMask),n.xp6(1),n.Q6J("ngIf","spin"==t.loadingMask),n.xp6(1),n.Q6J("ngIf",""==t.loadingMask)}},dependencies:[m.mk,m.O5,i._Y,i.Fj,i.JJ,i.JL,i.Q7,i.wO,i.on,i.On,i.F],styles:['.centerDiv[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100vh}button[_ngcontent-%COMP%]:focus, button[_ngcontent-%COMP%]:disabled{outline:none;background:#aaa}.spin[_ngcontent-%COMP%]{padding-left:2.5em}.spin[_ngcontent-%COMP%]   .spinner[_ngcontent-%COMP%]{left:-.6em;top:.4em;width:2.5em;display:block;position:absolute}@keyframes _ngcontent-%COMP%_spinner{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.spin[_ngcontent-%COMP%]   .spinner[_ngcontent-%COMP%]:before{content:"";width:1.5em;height:1.5em;position:absolute;top:50%;left:50%;border-radius:50%;border:solid .35em #999;border-bottom-color:#555;animation:.8s linear infinite _ngcontent-%COMP%_spinner;transform:translate(-50%,-50%);will-change:transform}button[_ngcontent-%COMP%]{position:relative;transition:all 1s}']})}return e})()}];let x=(()=>{class e{static#n=this.\u0275fac=function(s){return new(s||e)};static#e=this.\u0275mod=n.oAB({type:e});static#t=this.\u0275inj=n.cJS({imports:[m.ez,c.Bz.forChild(k),i.u5,c.Bz]})}return e})()}}]);